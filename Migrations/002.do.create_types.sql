CREATE TYPE type AS ENUM ('dog', 'cat', 'bird');

CREATE TABLE types (
  typeid INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  category type NOT NULL,
);

ALTER TABLE animals
  ADD COLUMN
    typeid INTEGER REFERENCES types(typeid) ON DELETE CASCADE NOT NULL;
